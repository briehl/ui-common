<!DOCTYPE html>
<html lang="en">
    <head>
        <title>KBase Narrative Interface</title>
        <link rel="icon" type="image/x-icon" href="/images/KBase_favicon.ico">

        <!-- external css -->
        <link rel="stylesheet" type="text/css" href="/bower_components/bootstrap/dist/css/bootstrap.min.css" />

        <!-- TODO: all into require! -->
        <!-- kbase enhancements or overrides for bootstrap -->
        <link rel="stylesheet" type="text/css" href="/css/kb-bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="/css/kb-icons.css" />

        <!-- need to rethink these styles... fold into main -->
        <!-- but for now ... keep here -->
        <link rel="stylesheet" type="text/css" href="/modules/navbar/css/navbar.css" />
        <link rel="stylesheet" type="text/css" href="/css/kb-ui.css" />

        <!-- Navbar - in order to avoid unstyled flash for core components, load the css
                   here or in the primary kbase stylesheet (which is...) -->

        <!--
        we don't want a flash of unstyled content, but we don't want this here.
        TODO: we need to hide the ui until the enough is loaded, and then reveal.
        Problem is that we don't know when enough css has loaded ... maybe we need
        a little hack here to do this detection.
        <link rel="stylesheet" type="text/css" href="../src/widgets/Navbar/style.css" />
        
        -->

        <!-- End kbase css -->

        <!-- TODO: move into require-main -->
        <!-- External javascript packages -->
        <script src="/bower_components/requirejs/require.js"></script>
        <script src="/js/require-config.js"></script>       
        <script>
            require(['kb.main'], function (main) {
                main.start()
                    .then(function (resolve) {
                        console.log('app has started!');
                    })
                    .catch(function (err) {
                        console.log('app is unhappy :(');
                    })
                    .done();
            });
        </script>
        <!-- end application -->
    </head>
    <body>
        <div id="wrap">
            <div id="content">
                <!-- SB only one on page, so we can use the id here -->
                <div class="navbar-kbase navbar-fixed-top" id="kbase-navbar">                    
                </div>
                <div class="container-fluid" style="padding-top: 1em;">
                    <div id="app"></div>
                </div>
            </div>
        </div>
    </body>

</html>
